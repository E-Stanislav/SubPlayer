# Инструкция по сборке SubPlayer

## Быстрая сборка (минимум действий)

### Для пользователей macOS/Linux:

1. Откройте терминал в папке проекта
2. Запустите скрипт сборки:
   ```bash
   ./build.sh
   ```
3. Готово! Результат в папке `dist/`

### Для пользователей Windows:

#### Вариант 1: Batch файл
1. Откройте командную строку (cmd) в папке проекта
2. Запустите:
   ```batch
   build.bat
   ```
3. Готово! Результат в папке `dist\`

#### Вариант 2: PowerShell (рекомендуется)
1. Откройте PowerShell в папке проекта
2. Запустите:
   ```powershell
   .\build.ps1
   ```
3. Готово! Результат в папке `dist\`

## Что делают скрипты сборки

Скрипты автоматически:
- ✅ Проверяют наличие Node.js и npm
- ✅ Устанавливают зависимости (если нужно)
- ✅ Очищают предыдущие сборки
- ✅ Собирают приложение для выбранной платформы
- ✅ Показывают информацию о результатах

## Дополнительные опции

### Сборка для другой платформы

**macOS/Linux:**
```bash
./build.sh win      # Собрать для Windows
./build.sh mac      # Собрать для macOS
./build.sh linux    # Собрать для Linux
./build.sh all      # Собрать для всех платформ
```

**Windows (Batch):**
```batch
build.bat win       # Собрать для Windows
build.bat mac       # Собрать для macOS
build.bat linux     # Собрать для Linux
build.bat all       # Собрать для всех платформ
```

**Windows (PowerShell):**
```powershell
.\build.ps1 win     # Собрать для Windows
.\build.ps1 mac     # Собрать для macOS
.\build.ps1 linux   # Собрать для Linux
.\build.ps1 all     # Собрать для всех платформ
```

## Требования для сборки

### Для всех платформ:
- Node.js версии 16 или выше
- npm (устанавливается вместе с Node.js)

### Для кроссплатформенной сборки:

**Сборка Windows на macOS/Linux:**
- Wine (необязательно, но рекомендуется для тестирования)

**Сборка macOS на других платформах:**
- Возможно только на macOS (требования Apple)

**Сборка Linux на других платформах:**
- Обычно работает везде

## Устранение проблем

### Скрипт не запускается (macOS/Linux)

Сделайте скрипт исполняемым:
```bash
chmod +x build.sh install.sh
```

### Ошибка "electron-builder не найден"

Установите зависимости:
```bash
npm install
# или
./install.sh
```

### Ошибка прав доступа (Linux)

Используйте sudo для установки системных зависимостей (если требуется):
```bash
sudo npm install -g electron-builder
```

### Большой размер сборки

Это нормально - Electron приложения обычно занимают 100-200 МБ из-за встроенного Chromium.

## Структура файлов сборки

```
dist/
├── SubPlayer Setup X.X.X.exe    # Windows установщик
├── SubPlayer X.X.X.exe          # Windows portable
├── SubPlayer-X.X.X.dmg          # macOS образ
└── SubPlayer-X.X.X.AppImage     # Linux приложение
```

## Дополнительная информация

- Все скрипты останавливаются при ошибках (для безопасности)
- Скрипты автоматически очищают предыдущие сборки
- Результаты сборки находятся в папке `dist/`
- Для разработки используйте `npm start` (без сборки)

