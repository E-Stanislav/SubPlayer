# Структура проекта SubPlayer

## Обзор

Проект организован в профессиональную структуру папок для лучшей организации кода и упрощения поддержки.

```
SubPlayer/
│
├── src/                          # Исходный код приложения
│   ├── main/                    # Главный процесс Electron
│   │   ├── main.js             # Точка входа, управление окнами, IPC
│   │   └── preload.js          # Безопасный мост между процессами
│   │
│   ├── renderer/                # Процесс рендеринга (UI)
│   │   ├── index.html          # HTML структура интерфейса
│   │   ├── renderer.js         # Логика интерфейса и события
│   │   └── styles.css          # Стили и оформление
│   │
│   ├── utils/                   # Утилиты и вспомогательные функции
│   │   └── subtitle-utils.js   # Функции для работы с SRT форматом
│   │
│   └── README.md                # Документация структуры src/
│
├── build.sh / build.bat / build.ps1  # Скрипты сборки
├── install.sh / install.bat          # Скрипты установки
│
├── package.json                 # Конфигурация проекта и зависимости
├── package-lock.json            # Зафиксированные версии зависимостей
│
├── README.md                    # Основная документация
├── BUILD.md                     # Инструкции по сборке
├── QUICKSTART.md                # Быстрый старт
└── STRUCTURE.md                 # Этот файл
```

## Детальное описание

### `src/main/` - Главный процесс

Главный процесс Electron управляет жизненным циклом приложения и взаимодействует с операционной системой.

**main.js**
- Создание и управление окнами приложения
- Обработка системных событий (закрытие приложения, активация)
- IPC обработчики для диалогов файлов
- Управление субтитрами (открытие/сохранение файлов)

**preload.js**
- Безопасный мост между main и renderer процессами
- Предоставляет API через `contextBridge`
- Защита от прямого доступа к Node.js API из renderer процесса

### `src/renderer/` - Интерфейс пользователя

Процесс рендеринга отвечает за отображение и взаимодействие с пользователем.

**index.html**
- Структура HTML интерфейса
- Определяет элементы управления плеером
- Содержит структуру редактора субтитров

**renderer.js**
- Обработка событий DOM
- Управление медиа-плеером
- Логика работы с субтитрами
- Взаимодействие с main процессом через IPC

**styles.css**
- Стили и оформление интерфейса
- Адаптивный дизайн
- Анимации и переходы

### `src/utils/` - Утилиты

Вспомогательные функции, используемые в разных частях приложения.

**subtitle-utils.js**
- Парсинг SRT файлов
- Генерация SRT файлов
- Преобразование форматов времени
- Форматирование для отображения

## Преимущества такой структуры

✅ **Организация** - код разделен по функциональному назначению  
✅ **Масштабируемость** - легко добавлять новые функции  
✅ **Поддержка** - проще найти нужный код  
✅ **Тестирование** - проще тестировать отдельные модули  
✅ **Стандартность** - соответствует лучшим практикам Electron

## Как это работает

1. **Запуск**: `package.json` указывает на `src/main/main.js` как точку входа
2. **Main процесс**: создает окно и загружает `src/renderer/index.html`
3. **Preload**: выполняет `src/main/preload.js` перед загрузкой страницы
4. **Renderer**: загружает HTML, CSS и JS из `src/renderer/`
5. **Utils**: импортируются в renderer.js для работы с субтитрами

